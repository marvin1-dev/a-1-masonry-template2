<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A-1 Masonry offers expert construction and maintenance solutions." />
  <meta name="keywords" content="Construction, Masonry, Maintenance, Safety, Consultation" />
  <meta name="author" content="A-1 Masonry" />
  <title>A-1 Masonry | Expert Construction & Maintenance Services</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<header>
  <h1>A-1 Masonry</h1>
  <nav>
    <a href="#services">Services</a>
    <a href="#about">About</a>
    <a href="#contact">Contact</a>
    <a href="#book" class="btn">Book now</a>
  </nav>
</header>

<section class="hero">
  <div class="hero-content">
    <h2>Expert Construction and Maintenance Solutions</h2>
  </div>
</section>

<section class="section" id="products">
  <div class="container">
    <h3>Featured Products</h3>
    <div class="card-container">
      <div class="card circle">
        <img src="https://picsum.photos/300/300?random=1" alt="Precision Build Services">
        <h4>Precision Build Services</h4>
        <p>$25</p>
      </div>
      <div class="card circle">
        <img src="https://picsum.photos/300/300?random=2" alt="24/7 Support Hub">
        <h4>24/7 Support Hub</h4>
        <p>$25</p>
      </div>
      <div class="card circle">
        <img src="https://picsum.photos/300/300?random=3" alt="SafeGuard Pro">
        <h4>SafeGuard Pro</h4>
        <p>$25</p>
      </div>
    </div>
    <div class="btn-wrapper">
      <a href="#services" class="btn">Shop All</a>
    </div>
  </div>
</section>

<section class="section" id="services">
  <div class="container">
    <h3>Our Services</h3>
    <div class="card-container">
      <div class="card">
        <img src="https://picsum.photos/600/400?random=4" alt="Precision Build Solutions">
        <h4>Precision Build Solutions</h4>
        <p>$99</p>
        <p>Delivering top-tier construction management and maintenance services.</p>
      </div>
      <div class="card">
        <img src="https://picsum.photos/600/400?random=5" alt="Expert Consultation">
        <h4>Expert Consultation</h4>
        <p>$149</p>
        <p>Personalized guidance and innovative solutions.</p>
      </div>
      <div class="card">
        <img src="https://picsum.photos/600/400?random=6" alt="Secure Build Compliance">
        <h4>Secure Build Compliance</h4>
        <p>$199</p>
        <p>Ensuring every project meets stringent safety standards.</p>
      </div>
    </div>
    <a href="#book" class="btn">Schedule Your Appointment</a>
  </div>
</section>

<section class="section" id="book">
  <div class="container two-column">
    <div class="column-left">
      <h3>Schedule your appointment</h3>
      <p>
        Scheduling an appointment with our construction and maintenance team ensures that you receive expert guidance tailored to your projectâ€™s unique requirements. Our dedicated professionals are ready to provide efficient and reliable services to meet all your needs.
      </p>
      <img src="https://picsum.photos/600/600?random=7" alt="Schedule Appointment">
    </div>
    <div class="column-right">
      <div class="booking-step step-1">
        <h4>Select Appointment</h4>

        <div class="service-card">
          <div>
            <strong>Free Consultation</strong><br>
            <small>30 minutes</small>
          </div>
          <button class="book-btn" data-service="Free Consultation">Book</button>
        </div>

        <div class="service-card">
          <div>
            <strong>Basic Service</strong><br>
            <small>1 hour @ $99.00</small>
          </div>
          <button class="book-btn" data-service="Basic Service">Book</button>
        </div>

        <div class="service-card">
          <div>
            <strong>Advanced Service</strong><br>
            <small>1 hour @ $199.00</small>
          </div>
          <button class="book-btn" data-service="Advanced Service">Book</button>
        </div>
      </div>

      <div class="booking-step step-2" style="display:none;">
        <h4>Confirm Appointment</h4>
        <form id="bookingForm">
          <input type="hidden" name="service" id="selectedService">

          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" required>

          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required>

          <label for="date">Preferred Date</label>
          <select id="date" name="date" required>
            <option value="">Loading dates...</option>
          </select>

          <label for="time">Preferred Time</label>
          <select id="time" name="time" required>
            <option value="">Please select date first</option>
          </select>

          <button type="submit">Confirm Booking</button>
        </form>
        <div id="bookingResult"></div>
        <button class="back-btn">Back</button>
      </div>
    </div>
  </div>
</section>

<section class="section two-column" id="about">
  <div class="container">
    <div class="column-img">
      <img src="https://picsum.photos/600/600?random=8" alt="About our company">
    </div>
    <div class="column-text">
      <h3>About our company</h3>
      <p>We pride ourselves on delivering top-tier solutions with unmatched precision and reliability.</p>
      <a href="#contact" class="btn">Learn More</a>
    </div>
  </div>
</section>

<section class="section two-column" id="contact">
  <div class="container">
    <div class="column-text">
      <h3>Contact Us</h3>
      <p>Interested in working together? Fill out some info and we will be in touch shortly.</p>
      <form id="contactForm">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" name="firstName" required />

        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" name="lastName" />

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required />

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required></textarea>

        <button type="submit">Send</button>
      </form>
    </div>
  </div>
</section>

<footer>
  <div class="container footer-grid">
    <div>
      <p>Your Site Title</p>
      <p>Made with <a href="https://www.squarespace.com">Squarespace</a></p>
    </div>
    <div>
      <p>Location<br>123 Demo Street<br>New York, NY 12345</p>
    </div>
    <div>
      <p>Contact<br>email@example.com<br>(555) 555-5555</p>
    </div>
  </div>
</footer>

<script>
const AVAILABLE_API = 'https://6p764d9nkl.execute-api.us-east-1.amazonaws.com/default/A1Available-dates';
const BOOKING_API = 'https://de4igqskmj.execute-api.us-east-1.amazonaws.com/default/A1Book';

document.querySelectorAll('.book-btn').forEach(button => {
  button.addEventListener('click', async function() {
    const service = this.getAttribute('data-service');
    document.getElementById('selectedService').value = service;
    document.querySelector('.step-1').style.display = 'none';
    document.querySelector('.step-2').style.display = 'flex';

    // Load available dates
    const dateSelect = document.getElementById('date');
    const timeSelect = document.getElementById('time');
    dateSelect.innerHTML = '<option value="">Loading dates...</option>';
    timeSelect.innerHTML = '<option value="">Please select date first</option>';

    try {
      const response = await fetch(`${AVAILABLE_API}?service=${encodeURIComponent(service)}`);
      const data = await response.json();

      if (data.available_dates && data.available_dates.length > 0) {
        dateSelect.innerHTML = '<option value="">Select date</option>';
        data.available_dates.forEach(item => {
          const opt = document.createElement('option');
          opt.value = item.date;
          opt.textContent = item.date;
          dateSelect.appendChild(opt);
        });

        dateSelect.addEventListener('change', function() {
          const selected = data.available_dates.find(d => d.date === this.value);
          timeSelect.innerHTML = '<option value="">Select time</option>';
          if (selected && selected.slots) {
            selected.slots.forEach(slot => {
              const opt = document.createElement('option');
              opt.value = slot;
              opt.textContent = slot;
              timeSelect.appendChild(opt);
            });
          }
        });
      } else {
        dateSelect.innerHTML = '<option value="">No available dates</option>';
        timeSelect.innerHTML = '<option value="">No available times</option>';
      }
    } catch (err) {
      console.error('Failed to load dates:', err);
      dateSelect.innerHTML = '<option value="">Error loading dates</option>';
      timeSelect.innerHTML = '<option value="">Error loading times</option>';
    }
  });
});

document.querySelector('.back-btn').addEventListener('click', function() {
  document.querySelector('.step-2').style.display = 'none';
  document.querySelector('.step-1').style.display = 'flex';
});

document.getElementById('bookingForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = Object.fromEntries(formData);

  try {
    const response = await fetch(BOOKING_API, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const result = await response.json();
    document.getElementById('bookingResult').innerText = result.message || 'Booking submitted!';
  } catch (error) {
    console.error('Error:', error);
    document.getElementById('bookingResult').innerText = 'Error submitting booking. Please try again later.';
  }
});
</script>

</body>
</html>
